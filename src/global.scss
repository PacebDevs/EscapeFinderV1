/*
 * App Global CSS
 * ----------------------------------------------------------------------------
 * Mantengo tu base y añado los estilos necesarios para el mapa.
 */

/* Core CSS required for Ionic components to work properly */
@import "@ionic/angular/css/core.css";

/* Basic CSS for apps built with Ionic */
@import "@ionic/angular/css/normalize.css";
@import "@ionic/angular/css/structure.css";
@import "@ionic/angular/css/typography.css";
@import "@ionic/angular/css/display.css";

/* Optional CSS utils that can be commented out */
@import "@ionic/angular/css/padding.css";
@import "@ionic/angular/css/float-elements.css";
@import "@ionic/angular/css/text-alignment.css";
@import "@ionic/angular/css/text-transformation.css";
@import "@ionic/angular/css/flex-utils.css";

@import 'swiper/css';
@import 'swiper/css/pagination';
@import 'swiper/css/navigation';

/* Dark Mode (si lo usas) */
@import "@ionic/angular/css/palettes/dark.system.css";

/* Fuente */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@700;800;900&display=swap');

/* Leaflet styles */
@import "leaflet/dist/leaflet.css";

/* Header base (tu estilo) */
ion-header,
ion-toolbar {
  padding-top: var(--safe-area-inset-top, 0px);
  background: #fff;
}

/* Este padding global es útil para tabs, pero lo anularemos en la página de mapa */
ion-content {
  --padding-top: 0px;
  --padding-bottom: calc(var(--safe-area-inset-bottom, 0px) + 80px); // 80px para la barra de tabs
  background: #fff;
}

ion-footer {
  padding-bottom: var(--safe-area-inset-bottom, 0px);
}

/* Vars globales */
:root {
  --ef-title-color: #1F2937;
  --ef-meta-color:  #64748B;
  --ef-font-stack: "Inter", ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI",
                   Roboto, "Helvetica Neue", "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
}

/* ====== MAPA: alturas y overlay ====== */

/* Cadena de alturas estable */
ion-app, ion-router-outlet, ion-content { height: 100%; }

/* Scoped por clase de la página */
/* Por esto */
ion-content.page-mapa,
ion-content.page-mapa .map-wrap,
ion-content.page-mapa #map { height: 100%; }

/* Anula paddings/offsets solo en esta página para que el mapa sea full */
/* después */
ion-content.page-mapa {
  --padding-top: 0 !important;
  --padding-bottom: 0 !important;
  --offset-top: 0 !important;
  --offset-bottom: 0 !important;
  --overflow: visible;            /* ✅ explícito para evitar el bug de stacking */
}

html, body, ion-app, ion-router-outlet { height: 100%; }

/* ---- MAPA (scoped por clase page-mapa) ---- */
.page-mapa,
.page-mapa ion-content {
  height: 100%;
}

/* Quita padding/offsets solo en la página de mapa para que el mapa pueda ocupar todo */
.page-mapa ion-content {
  --padding-top: 0 !important;
  --padding-bottom: 0 !important;
  --offset-top: 0 !important;
  --offset-bottom: 0 !important;
  --overflow: hidden;
}

/* Contenedor y mapa */
.page-mapa .map-wrap { position: relative; width: 100%; }
.page-mapa #map { position: relative; width: 100%; /* la ALTURA la fija TS con px */ }

/* Carrusel (overlay) */
.page-mapa .carousel {
  position: fixed; /* fijo al viewport para evitar recortes del shadow scroll */
  left: 0; right: 0;
  bottom: calc(var(--ion-safe-area-bottom, 0px) + 56px); /* ajusta si no hay tabs */
  padding: 8px 0 12px;
  background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,.20) 50%, rgba(0,0,0,.35) 100%);
  z-index: 401;
}

/* Cards del carrusel */
.page-mapa .minicard {
  width: 240px; min-height: 120px;
  background: #fff; border-radius: 14px; overflow: hidden;
  box-shadow: 0 6px 16px rgba(0,0,0,.15);
}